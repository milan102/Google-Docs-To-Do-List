<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <link rel="stylesheet" href="https://ssl.gstatic.com/docs/script/css/add-ons1.css">
    <!-- The CSS package above applies Google styling to buttons and other elements. -->

    <style>
    .block {
      margin-top: 15px;
      margin-left: 15px;
    }

    .form-text {
      margin-top: 15px;
      margin-left: 15px;
    }

    textarea {
      resize: none;
      vertical-align: middle;
    }
    </style>

    <script>
    function sendCheckboxes() {
      var checkboxElements = document.getElementsByClassName("notes-checkbox");
      var checkboxes = [];
      for (i = 0; i < checkboxElements.length; i++) {
        checkboxes.push(checkboxElements[i].checked);
      }
      google.script.run.deleteCheckboxSelection(checkboxes);
      setTimeout(google.script.run.showSidebar, 1000);
    }
    </script>
  </head>
  <body bgcolor="#EEEEEE">

  <div class="block">
    <button class="green" onclick="google.script.run.insertHorizontalLine()">NEW NOTE</button>
    <button class="red" onclick="sendCheckboxes()">DELETE</button>
    <button class="blue" onclick="google.script.run.showSidebar()">REFRESH</button>
  </div>

  <? var data = getAllTextBetweenHorizontalRules(); ?>
    <? for (var i = 0; i < data.length; i++) { ?>
  <div class="form-text">
    <input type="checkbox" class="notes-checkbox" id="<?= 'checkbox' + i ?>">
    <textarea class= "notes-textarea" id="<?= 'textarea' + i ?>" disabled><?= data[i] ?></textarea>
  </div>
    <? } ?>

  </body>
</html>
